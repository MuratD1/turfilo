
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tow Truck Optimization Dashboard</title>
    <link rel="stylesheet" href="../style.css">
    <script src="https://api-maps.yandex.ru/2.1/?apikey=YOUR_YANDEX_MAPS_API_KEY&lang=en_US"></script>
</head>
<body onload="checkAuth()">
    <h1>Tow Truck Operations Dashboard</h1>

    <!-- Tabs -->
    <div class="tabs">
        <button onclick="openTab(event, 'login')">Login</button>
        <button onclick="openTab(event, 'dashboard')">Dashboard</button>
        <button onclick="openTab(event, 'map')">Map View</button>
        <button onclick="openTab(event, 'heatmap')">Heatmap</button>
        <button onclick="openTab(event, 'schedule')">AI Schedule</button>
    </div>

    <!-- LOGIN TAB -->
    <div id="login" class="tabcontent">
        <h2>Login</h2>
        <input type="text" id="loginUser" placeholder="Username"><br><br>
        <input type="password" id="loginPass" placeholder="Password"><br><br>
        <button onclick="login()">Log In</button>
        <p id="loginStatus"></p>
    </div>

    <!-- DASHBOARD TAB -->
    <div id="dashboard" class="tabcontent" style="display:none;">
        <h2>Drivers & Trucks</h2>
        <button onclick="addRow()">Add Row</button>
        <button onclick="deleteSelectedRows()">Delete Selected Rows</button>

        <table id="fleetTable">
            <thead>
                <tr>
                    <th>Select</th>
                    <th>Tow Truck Plate</th>
                    <th>Driver Name</th>
                    <th>Phone</th>
                    <th>Home Address</th>
                    <th>Shift</th>
                    <th>Status</th>
                    <th>Edit</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <h2>Upload Historical Data</h2>
        <input type="file" id="csvFile" accept=".csv">
        <button onclick="uploadCSV()">Upload</button>
        <p id="uploadStatus"></p>

        <h2>Optimization Results</h2>
        <div id="results">Upload CSV to see results here.</div>
    </div>

    <!-- MAP TAB -->
    <div id="map" class="tabcontent" style="display:none;">
        <div id="yandex-map" style="width: 100%; height: 600px;"></div>
    </div>

    <!-- HEATMAP TAB -->
    <div id="heatmap" class="tabcontent" style="display:none;">
        <div id="yandex-heatmap" style="width: 100%; height: 600px;"></div>
    </div>

    <!-- SCHEDULER TAB -->
    <div id="schedule" class="tabcontent" style="display:none;">
        <h2>AI Job Assignments</h2>
        <div id="scheduleOutput"></div>
        <br>
        <button onclick="exportToExcel()">Export to Excel</button>
        <button onclick="exportToPDF()">Export to PDF</button>
    </div>

    <script src="../script.js"></script>
</body>
</html>